// src/data/modules.js

export const MODULES = [
  {
    id: "legal",
    category: "Фундамент",
    title: "Фундамент: требования и документы",
    teaser:
      "Что нужно по закону и по здравому смыслу, чтобы кофейня работала спокойно.",
    description:
      "СанПиН, МЧС, уголок потребителя, базовые журналы, типовые проверки и минимальный набор документов. Не списком страданий, а как система: что обязательно, что желательно и где обычно ошибаются.",
    points: [
      "Требования к помещению и оборудованию",
      "Проверки: за что чаще всего ловят",
      "Уголок потребителя и базовые документы",
      "Как собрать всё без паники",
    ],
    sections: [], // у этого модуля пока нет вложенных частей
  },

  {
    id: "menu",
    category: "Продукт",
    title: "Меню кофейни: продукт, объёмы, деньги",
    teaser:
      "Меню как система: вкус, вариации, стабильность и экономика — в одной конструкции.",
    description:
      "Это модуль про то, как превратить напитки в работающую модель продаж. Три слоя: смысл (зачем каждая позиция и как она продаётся), база и вариации (зерно/помол/молоко/рецептуры/объёмы), экономика (техкарты, себестоимость, маржа и финальный прайс).",
    points: [
      "Стабильность вкуса: зерно, помол, вода, молоко",
      "Структура меню: разделы, названия, логика предложений",
      "Объёмы и рецептуры: как увеличивать объём и не ломать вкус",
      "Экономика: техкарты, себестоимость, наценка, прайс",
    ],
    sections: [
      { id: "meaning", title: "Смысловой слой", teaser: "Роль позиций в меню и логика продаж." },
      { id: "base", title: "База и вариации", teaser: "Зерно, помол, молоко, рецептуры, объёмы." },
      { id: "economy", title: "Экономика", teaser: "Техкарты, себестоимость, маржа, финальные цены." },
    ],
  },

  {
    id: "team",
    category: "Люди",
    title: "Команда и сервис",
    teaser: "Чек-листы и стандарты, чтобы смена шла ровно, а люди не выгорали.",
    description:
      "Роли, процессы смены, коммуникация, обучение новичков, минимальные стандарты сервиса. Всё, что делает кофейню стабильной для гостя и адекватной для команды.",
    points: ["Роли на смене", "Чек-листы", "Стандарты общения", "Адаптация новичков"],
    sections: [],
  },

  {
    id: "money",
    category: "Деньги",
    title: "Касса, налоги и учёт",
    teaser: "Минимальный порядок в финансах без бухгалтерского кошмара.",
    description:
      "Онлайн-касса, эквайринг, QR, базовое понимание налогов, раздельный учёт. Цель — чтобы деньги не утекали и всё было прозрачно.",
    points: ["Касса/эквайринг", "QR/чаевые", "Разделение денег", "Когда звать бухгалтера"],
    sections: [],
  },
];

export const MODULES_BY_ID = Object.fromEntries(MODULES.map((m) => [m.id, m]));

export function getModule(id) {
  return MODULES_BY_ID[id] ?? null;
}

export function getSection(moduleId, sectionId) {
  const mod = getModule(moduleId);
  if (!mod) return null;
  return mod.sections?.find((s) => s.id === sectionId) ?? null;
}
